<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

<th:block th:replace="~{/layout/basic :: setContent(~{this :: content})}">
  <th:block th:fragment="content">

      <div>
          <label>제목</label>
          <input type="text" class="form-control" th:value="${dto.title}">
      </div>

      <div>
          <label>이름: </label>[[${dto.memberName}]]
          <div th:if="${dto.regDate == dto.modDate}">
              <label>등록일: </label>[[${#temporals.format(dto.regDate, 'yyyy/MM/dd')}]]
          </div>
          <div th:unless="${dto.regDate == dto.modDate}">
              <label>수정일: </label>[[${#temporals.format(dto.modDate, 'yyyy/MM/dd')}]]
          </div>

          <label>댓글 수</label><div>[[${dto.replyCount}]]</div>
      </div>

      <div>
          <div th:utext="${dto.content}"></div>
      </div>
      <form th:action="@{/board/remove}" method="post">
          <input type="hidden" name="bno" th:value="${dto.bno}">
      </form>

      <div>
          <a th:href="@{/board/list(page=${pageRequestDTO.page})}">
          <button>리스트</button>
          </a>
          <a th:href="@{/board/modify(bno=${dto.bno}, page=${pageRequestDTO.page}, type=${pageRequestDTO.type}, keyword=${pageRequestDTO.keyword})}">
              <button class="modifyBtn">수정</button>
          </a>
          <button class="removeBtn">삭제</button>
      </div>

      <script th:inline="javascript">

          $(document).ready(function (){

              var bno = [[${dto.bno}]];

              console.log("bno: " + bno);

              $(".removeBtn").on("click", function (){

                  if (!confirm("삭제 하시겠습니까?")){
                      console.info("confirmed");
                      return;
                  } // if

                  $("form").submit();

              }); // removeBtn

          }); // the end

      </script>

  </th:block>
</th:block>

</body>
</html>